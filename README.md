# RecursiveDescentParser
编译原理实验 sample语言的语法分析和语义分析，生成四元式。
SAMPLE**语言定义**

 

一、      字符集定义

1． <字符集> → <字母>│<数字>│<单界符>

2． <字母> → A│B│…│Z│a│b│…│z

3． <数字> → 0│1│2│…│9

4． <单界符> → +│-│*│/│=│<│>│(│)│[│]│:│. │; │, │'

 

二、      单词集定义

5．<单词集> → <保留字>│<双界符>│<标识符>│<常数>│<单界符>

6．<保留字> → and│array│begin│bool│call│case│char│constant│dim│do│else│end│false│for│if│input│integer│not│of│or│output│procedure│program│read│real│repeat│set│stop│then│to│true│until│var│while│write

7．<双界符> → <>│<=│>=│:= │/│/│..

8．<标识符> → <字母>│<标识符> <数字>│<标识符> <字母>

9．<常数> → <整数>│<布尔常数>│<字符常数>

10．<整数> → <数字>│<整数> <数字>

11．<布尔常数> → true│false

12．<字符常数> → ' 除 {'} 外的任意字符串 '

 

三、      数据类型定义

13．<类型> → integer│bool│char

 

四、      表达式定义

14．<表达式> → <算术表达式>│<布尔表达式>│<字符表达式>

15．<算术表达式> → <算术表达式> + <项>│<算术表达式> - <项>│<项>

16．<项> → <项> * <因子>│<项> / <因子>│<因子>

17．<因子> → <算术量>│- <因子>

18．<算术量> → <整数>│<标识符>│（ <算术表达式> ）

19．<布尔表达式> → <布尔表达式> or <布尔项>│<布尔项>

20．<布尔项> → <布尔项> and <布因子>│<布因子>

21．<布因子> → <布尔量>│not <布因子>

22．<布尔量> → <布尔常量>│<标识符>│（ <布尔表达式> ）│

<标识符> <关系符> <标识符>│<算术表达式> <关系符> <算术表达式>

23．<关系符> → <│<>│<=│>=│>│=

24．<字符表达式> → <字符常数>│<标识符>

 

五、      语句定义

25．<语句> → <赋值句>│<if句>│<while句>│<repeat句>│<复合句>

26．<赋值句> → <标识符> := <算术表达式>

27．<if句>→ if <布尔表达式> then <语句>│if <布尔表达式> then <语句> else <语句>

28．<while句> → while <布尔表达式> do <语句>

29．<repeat句> → repeat <语句> until <布尔表达式>

30．<复合句> → begin <语句表> end

31．<语句表> → <语句> ；<语句表>│<语句>

 

 

六、      程序定义

32．<程序> → program <标识符> ；<变量说明> <复合语句> .

33．<变量说明> → var <变量定义>│ε

34．<变量定义> → <标识符表> ：<类型> ；<变量定义>│<标识符表> ：<类型> ；

35．<标识符表> → <标识符> ，<标识符表>│<标识符>

 

七、      SIMPLE**语言单词编码**

 
![image-20210113084112885](https://a-image-store.oss-cn-beijing.aliyuncs.com/img/image-20210113084112885.png)
 

八、实验二：设计SAMPLE语言的语法、语义分析器，输出四元式的中间结果。

检查要求：

a)    启动程序后，先输出作者姓名、班级、学号（可用汉语、英语或拼音）。

b)   请求输入测试程序名，键入程序名后自动开始编译。

c)    输出四元式中间代码（样式见样板输出3和4）。

d)   能发现程序的语法错误并输出出错信息。

 

九、测试样板程序与样板输出

 

测试程序3：程序名TEST4            				测试程序4：程序名TEST5

program example4;                					program example5;

var A,B,C,D:integer;                 			var A,B,C,D,W:integer;

begin                      				    		begin

 A:=1; B:=5; C:=3; D:=4;              					A:=5; B:=4; C:=3; D:=2; W:=1;

 while A<C and B>D do              					if W>=1 then A:=B*C+B/D

if A=1 then C:=C+1 else              						else repeat A:=A+1 until A<0

 while A<=D do A:=A*2            					end.

end.

 

样板输出3：（要求在屏幕上显示）     样板输出4：（要求在屏幕上显示）

( 0) (program,example4,-,-)                 ( 0) (program,example5,-,-)

( 1) (:= , 1 , - , A)                  					( 1) (:= , 5 , - , A)

( 2) (:= , 5 , - , B)                  					( 2) (:= , 4 , - , B)

( 3) (:= , 3 , - , C)              					    ( 3) (:= , 3 , - , C)

( 4) (:= , 4 , - , D)             					     ( 4) (:= , 2 , - , D)

( 5) (j< , A , C , 7)                   				  ( 5) (:= , 1 , - , W)

( 6) (j , - , - , 20)                  					  ( 6) (j>=,  W , 1 , 8)

( 7) (j> , B , D , 9)                   				  ( 7) (j , - , - , 13)

( 8) (j , - , - , 20)                   					 ( 8) (* ,  B ,  C ,  T1)

( 9) (j= , A , 1 , 11)                  				  ( 9) (/ , B , D ,  T2)

(10)   (j , - , - , 14)                  				   (10) (+ , T1 , T2 ,  T3)

(11)   (+ , C , 1 , T1)                  				(11) (:= , T3 , - , A)

(12)   (:= ,  T1 , - , C)                 			    (12) (j , - , - , 17)

(13)   (j , - , - , 5)                  					 (13) (- , A , 1 , T4)

(14)   (j<=, A , D , 16)                    		   (14) (:= , T4 , - , A)

(15)   (j , - , -  , 5)                   					(15) (j< , A , 0 , 17)

(16)   (* , A , 2 , T2)                    			   (16) (j , - , - , 13)

(17)   (:= , T2 , - , A)                    			   (17) (sys , - , - , -)

(18)   (j , - , - , 14)

(19)   (j , - , - , 5)

(20)   (sys , - , - , -)
